"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(M,g,s)=>{s.r(g),s.d(g,{HomePageModule:()=>C});var i=s(7863),h=s(177),m=s(4341),u=s(4964),e=s(4438),p=s(5797),f=s(1319),P=s(5063);const v=[{path:"",component:(()=>{var o;class r{constructor(t,n,a){this.geolocation=t,this.nativeGeocoder=n,this.firestore=a,this.latitude=0,this.longitude=0,this.address="",this.options={timeout:1e4,enableHighAccuracy:!0,maximumAge:3600},this.nativeGeocoderOptions={useLocale:!0,maxResults:5}}getCurrentCoordinates(){this.geolocation.getCurrentPosition(this.options).then(t=>{console.log(t),this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.getAddress(this.latitude,this.longitude)}).catch(t=>{console.log("Error getting location",t)})}getAddress(t,n){this.nativeGeocoder.reverseGeocode(t,n,this.nativeGeocoderOptions).then(a=>{this.address=this.pretifyAddress(a[0]),this.saveLocation(t,n,this.address)}).catch(a=>{alert("Error getting location"+JSON.stringify(a))})}pretifyAddress(t){let n=[],a="";for(let c in t)t[c].length&&n.push(t[c]);n.reverse();for(let c in n)a+=n[c]+", ";return a.slice(0,-2)}saveLocation(t,n,a){const c={latitude:t,longitude:n,address:a,timestamp:new Date};this.firestore.collection("locations").add(c).then(d=>{console.log("Document written with ID: ",d.id)}).catch(d=>{console.error("Error adding document: ",d)})}}return(o=r).\u0275fac=function(t){return new(t||o)(e.rXU(p.L),e.rXU(f.K),e.rXU(P.Qe))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-home"]],decls:26,vars:4,consts:[[3,"translucent"],[1,"poppins-bold"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"ion-padding"],["expand","block",3,"click"],[1,"poppins-semibold"],[1,"poppins-regular"],["slot","end"]],template:function(t,n){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e.EFF(3," GPS Location with Material Web "),e.k0s()()(),e.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),e.EFF(8,"GPS Location with Material Web"),e.k0s()()(),e.j41(9,"div",5)(10,"ion-button",6),e.bIt("click",function(){return n.getCurrentCoordinates()}),e.EFF(11," Obtener localizaci\xf3n "),e.k0s(),e.j41(12,"ion-list")(13,"ion-list-header")(14,"ion-label",7),e.EFF(15,"Coordenadas"),e.k0s()(),e.j41(16,"ion-item")(17,"ion-label",8),e.EFF(18," Latitud "),e.k0s(),e.j41(19,"ion-badge",9),e.EFF(20),e.k0s()(),e.j41(21,"ion-item")(22,"ion-label",8),e.EFF(23," Longitud"),e.k0s(),e.j41(24,"ion-badge",9),e.EFF(25),e.k0s()()()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(16),e.JRh(n.latitude),e.R7$(5),e.JRh(n.longitude))},dependencies:[i.In,i.Jm,i.W9,i.eU,i.uz,i.he,i.nf,i.AF,i.BC,i.ai],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),r})()}];let F=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(v),u.iI]}),r})(),C=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[h.MD,m.YN,i.bv,F]}),r})()}}]);