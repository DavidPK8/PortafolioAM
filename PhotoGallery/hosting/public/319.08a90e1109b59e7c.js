"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[319],{7464:(oe,j,g)=>{g.d(j,{EA:()=>u,E_:()=>S,F3:()=>H,I9:()=>L});var f=g(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var C=function(t){return t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE",t}(C||{});class L extends Error{constructor(e,n,o){super(e),this.message=e,this.code=n,this.data=o}}const N=t=>{var e,n,o,l,s;const h=t.CapacitorCustomPlatform||null,d=t.Capacitor||{},A=d.Plugins=d.Plugins||{},p=t.CapacitorPlatforms,M=(null===(e=null==p?void 0:p.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==h?h.name:(t=>{var e,n;return null!=t&&t.androidBridge?"android":null!==(n=null===(e=null==t?void 0:t.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(t)),de=(null===(n=null==p?void 0:p.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==M()),fe=(null===(o=null==p?void 0:p.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(v=>{const b=te.get(v);return!!(null!=b&&b.platforms.has(M())||se(v))}),se=(null===(l=null==p?void 0:p.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(v=>{var b;return null===(b=d.PluginHeaders)||void 0===b?void 0:b.find(G=>G.name===v)}),te=new Map,ve=(null===(s=null==p?void 0:p.currentPlatform)||void 0===s?void 0:s.registerPlugin)||((v,b={})=>{const G=te.get(v);if(G)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),G.proxy;const x=M(),W=se(v);let O;const Pe=function(){var y=(0,f.A)(function*(){return!O&&x in b?O=O="function"==typeof b[x]?yield b[x]():b[x]:null!==h&&!O&&"web"in b&&(O=O="function"==typeof b.web?yield b.web():b.web),O});return function(){return y.apply(this,arguments)}}(),ne=y=>{let E;const _=(...U)=>{const R=Pe().then(T=>{const k=((y,E)=>{var _,U;if(!W){if(y)return null===(U=y[E])||void 0===U?void 0:U.bind(y);throw new L(`"${v}" plugin is not implemented on ${x}`,C.Unimplemented)}{const R=null==W?void 0:W.methods.find(T=>E===T.name);if(R)return"promise"===R.rtype?T=>d.nativePromise(v,E.toString(),T):(T,k)=>d.nativeCallback(v,E.toString(),T,k);if(y)return null===(_=y[E])||void 0===_?void 0:_.bind(y)}})(T,y);if(k){const J=k(...U);return E=null==J?void 0:J.remove,J}throw new L(`"${v}.${y}()" is not implemented on ${x}`,C.Unimplemented)});return"addListener"===y&&(R.remove=(0,f.A)(function*(){return E()})),R};return _.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:y,writable:!1,configurable:!1}),_},le=ne("addListener"),ce=ne("removeListener"),ye=(y,E)=>{const _=le({eventName:y},E),U=function(){var T=(0,f.A)(function*(){const k=yield _;ce({eventName:y,callbackId:k},E)});return function(){return T.apply(this,arguments)}}(),R=new Promise(T=>_.then(()=>T({remove:U})));return R.remove=(0,f.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield U()}),R},re=new Proxy({},{get(y,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?ye:le;case"removeListener":return ce;default:return ne(E)}}});return A[v]=re,te.set(v,{name:v,proxy:re,platforms:new Set([...Object.keys(b),...W?[x]:[]])}),re});return d.convertFileSrc||(d.convertFileSrc=v=>v),d.getPlatform=M,d.handleError=v=>t.console.error(v),d.isNativePlatform=de,d.isPluginAvailable=fe,d.pluginMethodNoop=(v,b,G)=>Promise.reject(`${G} does not have an implementation of "${b}".`),d.registerPlugin=ve,d.Exception=L,d.DEBUG=!!d.DEBUG,d.isLoggingEnabled=!!d.isLoggingEnabled,d.platform=d.getPlatform(),d.isNative=d.isNativePlatform(),d},I=(t=>t.Capacitor=N(t))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H=I.registerPlugin;class S{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){var o=this;let l=!1;this.listeners[e]||(this.listeners[e]=[],l=!0),this.listeners[e].push(n);const h=this.windowListeners[e];h&&!h.registered&&this.addWindowListener(h),l&&this.sendRetainedArgumentsForEvent(e);const d=function(){var p=(0,f.A)(function*(){return o.removeListener(e,n)});return function(){return p.apply(this,arguments)}}();return Promise.resolve({remove:d})}removeAllListeners(){var e=this;return(0,f.A)(function*(){e.listeners={};for(const n in e.windowListeners)e.removeWindowListener(e.windowListeners[n]);e.windowListeners={}})()}notifyListeners(e,n,o){const l=this.listeners[e];if(l)l.forEach(s=>s(n));else if(o){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:o=>{this.notifyListeners(n,o)}}}unimplemented(e="not implemented"){return new I.Exception(e,C.Unimplemented)}unavailable(e="not available"){return new I.Exception(e,C.Unavailable)}removeListener(e,n){var o=this;return(0,f.A)(function*(){const l=o.listeners[e];if(!l)return;const s=l.indexOf(n);o.listeners[e].splice(s,1),o.listeners[e].length||o.removeWindowListener(o.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(o=>{this.notifyListeners(e,o)}))}}const z=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Q=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Z extends S{getCookies(){return(0,f.A)(function*(){const e=document.cookie,n={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[l,s]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=Q(l).trim(),s=Q(s).trim(),n[l]=s}),n})()}setCookie(e){return(0,f.A)(function*(){try{const n=z(e.key),o=z(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),h=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${o||""}${l}; path=${s}; ${h};`}catch(n){return Promise.reject(n)}})()}deleteCookie(e){return(0,f.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,f.A)(function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,f.A)(function*(){try{yield e.clearCookies()}catch(n){return Promise.reject(n)}})()}}H("CapacitorCookies",{web:()=>new Z});const q=function(){var t=(0,f.A)(function*(e){return new Promise((n,o)=>{const l=new FileReader;l.onload=()=>{const s=l.result;n(s.indexOf(",")>=0?s.split(",")[1]:s)},l.onerror=s=>o(s),l.readAsDataURL(e)})});return function(n){return t.apply(this,arguments)}}(),u=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),l=((t={})=>{const e=Object.keys(t);return Object.keys(t).map(l=>l.toLocaleLowerCase()).reduce((l,s,h)=>(l[s]=t[e[h]],l),{})})(t.headers)["content-type"]||"";if("string"==typeof t.data)n.body=t.data;else if(l.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[h,d]of Object.entries(t.data||{}))s.set(h,d);n.body=s.toString()}else if(l.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((d,A)=>{s.append(A,d)});else for(const d of Object.keys(t.data))s.append(d,t.data[d]);n.body=s;const h=new Headers(n.headers);h.delete("content-type"),n.headers=h}else(l.includes("application/json")||"object"==typeof t.data)&&(n.body=JSON.stringify(t.data));return n};class r extends S{request(e){return(0,f.A)(function*(){const n=u(e,e.webFetchExtra),o=((t,e=!0)=>t?Object.entries(t).reduce((o,l)=>{const[s,h]=l;let d,A;return Array.isArray(h)?(A="",h.forEach(p=>{d=e?encodeURIComponent(p):p,A+=`${s}=${d}&`}),A.slice(0,-1)):(d=e?encodeURIComponent(h):h,A=`${s}=${d}`),`${o}&${A}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=o?`${e.url}?${o}`:e.url,s=yield fetch(l,n),h=s.headers.get("content-type")||"";let A,p,{responseType:d="text"}=s.ok?e:{};switch(h.includes("application/json")&&(d="json"),d){case"arraybuffer":case"blob":p=yield s.blob(),A=yield q(p);break;case"json":A=yield s.json();break;default:A=yield s.text()}const B={};return s.headers.forEach((M,ee)=>{B[ee]=M}),{data:A,headers:B,status:s.status,url:s.url}})()}get(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var n=this;return(0,f.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}H("CapacitorHttp",{web:()=>new r})},1889:(oe,j,g)=>{g.d(j,{Wi:()=>F,__:()=>f});var f=function(w){return w.Documents="DOCUMENTS",w.Data="DATA",w.Library="LIBRARY",w.Cache="CACHE",w.External="EXTERNAL",w.ExternalStorage="EXTERNAL_STORAGE",w}(f||{}),F=function(w){return w.UTF8="utf8",w.ASCII="ascii",w.UTF16="utf16",w}(F||{})},319:(oe,j,g)=>{g.r(j),g.d(j,{Tab2PageModule:()=>q});var f=g(1075),F=g(177),Y=g(4341),D=g(1307),w=g(70),P=g(467),m=g(4438),C=g(7464),L=function(c){return c.Prompt="PROMPT",c.Camera="CAMERA",c.Photos="PHOTOS",c}(L||{}),$=function(c){return c.Rear="REAR",c.Front="FRONT",c}($||{}),N=function(c){return c.Uri="uri",c.Base64="base64",c.DataUrl="dataUrl",c}(N||{});class X extends C.E_{getPhoto(a){var u=this;return(0,P.A)(function*(){return new Promise(function(){var r=(0,P.A)(function*(i,t){if(a.webUseInput||a.source===L.Photos)u.fileInputExperience(a,i,t);else if(a.source===L.Prompt){let e=document.querySelector("pwa-action-sheet");e||(e=document.createElement("pwa-action-sheet"),document.body.appendChild(e)),e.header=a.promptLabelHeader||"Photo",e.cancelable=!1,e.options=[{title:a.promptLabelPhoto||"From Photos"},{title:a.promptLabelPicture||"Take Picture"}],e.addEventListener("onSelection",function(){var n=(0,P.A)(function*(o){0===o.detail?u.fileInputExperience(a,i,t):u.cameraExperience(a,i,t)});return function(o){return n.apply(this,arguments)}}())}else u.cameraExperience(a,i,t)});return function(i,t){return r.apply(this,arguments)}}())})()}pickImages(a){var u=this;return(0,P.A)(function*(){return new Promise(function(){var r=(0,P.A)(function*(i,t){u.multipleFileInputExperience(i,t)});return function(i,t){return r.apply(this,arguments)}}())})()}cameraExperience(a,u,r){var i=this;return(0,P.A)(function*(){if(customElements.get("pwa-camera-modal")){const t=document.createElement("pwa-camera-modal");t.facingMode=a.direction===$.Front?"user":"environment",document.body.appendChild(t);try{yield t.componentOnReady(),t.addEventListener("onPhoto",function(){var e=(0,P.A)(function*(n){const o=n.detail;null===o?r(new C.I9("User cancelled photos app")):o instanceof Error?r(o):u(yield i._getCameraPhoto(o,a)),t.dismiss(),document.body.removeChild(t)});return function(n){return e.apply(this,arguments)}}()),t.present()}catch{i.fileInputExperience(a,u,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),i.fileInputExperience(a,u,r)})()}fileInputExperience(a,u,r){let i=document.querySelector("#_capacitor-camera-input");const t=()=>{var e;null===(e=i.parentNode)||void 0===e||e.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",e=>{const n=i.files[0];let o="jpeg";if("image/png"===n.type?o="png":"image/gif"===n.type&&(o="gif"),"dataUrl"===a.resultType||"base64"===a.resultType){const l=new FileReader;l.addEventListener("load",()=>{if("dataUrl"===a.resultType)u({dataUrl:l.result,format:o});else if("base64"===a.resultType){const s=l.result.split(",")[1];u({base64String:s,format:o})}t()}),l.readAsDataURL(n)}else u({webPath:URL.createObjectURL(n),format:o}),t()}),i.addEventListener("cancel",e=>{r(new C.I9("User cancelled photos app")),t()})),i.accept="image/*",i.capture=!0,a.source===L.Photos||a.source===L.Prompt?i.removeAttribute("capture"):a.direction===$.Front?i.capture="user":a.direction===$.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(a,u){let r=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var t;null===(t=r.parentNode)||void 0===t||t.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",t=>{const e=[];for(let n=0;n<r.files.length;n++){const o=r.files[n];let l="jpeg";"image/png"===o.type?l="png":"image/gif"===o.type&&(l="gif"),e.push({webPath:URL.createObjectURL(o),format:l})}a({photos:e}),i()}),r.addEventListener("cancel",t=>{u(new C.I9("User cancelled photos app")),i()})),r.accept="image/*",r.click()}_getCameraPhoto(a,u){return new Promise((r,i)=>{const t=new FileReader,e=a.type.split("/")[1];"uri"===u.resultType?r({webPath:URL.createObjectURL(a),format:e,saved:!1}):(t.readAsDataURL(a),t.onloadend=()=>{const n=t.result;r("dataUrl"===u.resultType?{dataUrl:n,format:e,saved:!1}:{base64String:n.split(",")[1],format:e,saved:!1})},t.onerror=n=>{i(n)})})}checkPermissions(){var a=this;return(0,P.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw a.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw a.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var a=this;return(0,P.A)(function*(){throw a.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var a=this;return(0,P.A)(function*(){throw a.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var a=this;return(0,P.A)(function*(){throw a.unavailable("Not implemented on web.")})()}}new X;const H=(0,C.F3)("Camera",{web:()=>new X});var K=g(1889);const V=(0,C.F3)("Filesystem",{web:()=>g.e(2937).then(g.bind(g,2937)).then(c=>new c.FilesystemWeb)}),S=(0,C.F3)("Preferences",{web:()=>g.e(2924).then(g.bind(g,2924)).then(c=>new c.PreferencesWeb)});let ie=(()=>{var c;class a{constructor(){this.photos=[],this.PHOTO_STORAGE="photos",this.convertBlobToBase64=r=>new Promise((i,t)=>{const e=new FileReader;e.onerror=t,e.onload=()=>{i(e.result)},e.readAsDataURL(r)})}addNewToGallery(){var r=this;return(0,P.A)(function*(){const i=yield H.getPhoto({resultType:N.Uri,source:L.Camera,quality:100});yield r.savePicture(i),r.photos.unshift({filepath:"soon...",webviewPath:i.webPath}),S.set({key:r.PHOTO_STORAGE,value:JSON.stringify(r.photos)})})()}deletePhoto(r){var i=this;return(0,P.A)(function*(){const t=i.photos[r];i.photos.splice(r,1),yield V.deleteFile({path:t.filepath,directory:K.__.Data}),yield S.set({key:i.PHOTO_STORAGE,value:JSON.stringify(i.photos)})})()}loadSaved(){var r=this;return(0,P.A)(function*(){const{value:i}=yield S.get({key:r.PHOTO_STORAGE});r.photos=i?JSON.parse(i):[];for(let t of r.photos)yield V.readFile({path:t.filepath,directory:K.__.Data}),t.webviewPath="data:image/jpeg;base64,$(readFile.data)"})()}savePicture(r){var i=this;return(0,P.A)(function*(){const t=yield i.readAsBase64(r),e=Date.now()+".jpeg";return yield V.writeFile({path:e,data:t,directory:K.__.Data}),{filepath:e,webviewPath:r.webPath}})()}readAsBase64(r){var i=this;return(0,P.A)(function*(){const e=yield(yield fetch(r.webPath)).blob();return yield i.convertBlobToBase64(e)})()}}return(c=a).\u0275fac=function(r){return new(r||c)},c.\u0275prov=m.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),a})();function z(c,a){if(1&c){const u=m.RV6();m.j41(0,"ion-grid",5),m.nrm(1,"ion-img",6),m.j41(2,"ion-button",7),m.bIt("click",function(){const i=m.eBV(u).index,t=m.XpG();return m.Njj(t.deletePhoto(i))}),m.EFF(3,"Delete"),m.k0s()()}if(2&c){const u=a.$implicit;m.R7$(),m.Y8G("src",u.webviewPath)}}const Z=[{path:"",component:(()=>{var c;class a{constructor(r){this.photoService=r}ngOnInit(){var r=this;return(0,P.A)(function*(){yield r.photoService.loadSaved()})()}deletePhoto(r){var i=this;return(0,P.A)(function*(){yield i.photoService.deletePhoto(r)})()}getPhotoPath(r){return this.photoService.photos[r].webviewPath}addPhotoToGallery(){this.photoService.addNewToGallery()}}return(c=a).\u0275fac=function(r){return new(r||c)(m.rXU(ie))},c.\u0275cmp=m.VBU({type:c,selectors:[["app-tab2"]],decls:11,vars:2,consts:[[3,"translucent"],["size","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","camera"],["size","6"],[3,"src"],["color","danger",3,"click"]],template:function(r,i){1&r&&(m.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),m.EFF(3," Photo Gallery "),m.k0s()()(),m.j41(4,"ion-content")(5,"ion-row"),m.DNE(6,z,4,1,"ion-grid",1),m.k0s()(),m.j41(7,"ion-content")(8,"ion-fab",2)(9,"ion-fab-button",3),m.bIt("click",function(){return i.addPhotoToGallery()}),m.nrm(10,"ion-icon",4),m.k0s()()()),2&r&&(m.Y8G("translucent",!0),m.R7$(6),m.Y8G("ngForOf",i.photoService.photos))},dependencies:[f.Jm,f.W9,f.Q8,f.YW,f.lO,f.eU,f.iq,f.KW,f.ln,f.BC,f.ai,F.Sq]}),a})()}];let ae=(()=>{var c;class a{}return(c=a).\u0275fac=function(r){return new(r||c)},c.\u0275mod=m.$C({type:c}),c.\u0275inj=m.G2t({imports:[w.iI.forChild(Z),w.iI]}),a})(),q=(()=>{var c;class a{}return(c=a).\u0275fac=function(r){return new(r||c)},c.\u0275mod=m.$C({type:c}),c.\u0275inj=m.G2t({imports:[f.bv,F.MD,Y.YN,D.S,ae]}),a})()}}]);